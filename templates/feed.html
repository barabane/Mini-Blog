{% extends "base.html"%}
{% block title%}Главная{% endblock %}
{% block content%}
<div class="container">
  <div class="row">
    <div class="col">
      <div class="row">
        <div class="col-lg">
          {% if posts %}
          {% for post in posts%}
          <div class="card mb-4">
            <div class="card-body">
              <div class="small text-muted">{{ post.date.date() }}, {{ post.date.strftime("%H:%M")}}</div>
              <h2 class="card-title h4">{{ post.title }}</h2>
              {% for hashtag in hashtags %}
              {% if hashtag.post_id == post.id%}
              <span class="badge bg-secondary text-decoration-none link-light">#{{ hashtag.tag }}</span>
              {% endif %}
              {% endfor %}
              {% if post.text|length < 200 %}
              <p class="card-text">{{ post.text }}</p>
              {%else %}
              <p class="card-text">{{ post.text[:100] }}...</p>
              {% endif %}
              <a class="btn btn-primary" href="/post/{{ post.id }}">Читать дальше →</a>
            </div>
          </div>
          {% endfor%}
          {% else %}
          <h4 class="text-center">Постов пока нет :(</h4>
          {% endif %}
        </div>
      </div>
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          {% for num in range(pages_qty) %}
          <li class="page-item {{ 'active' if active_page == num + 1 else '' }}"><a class="page-link"
                                                                                    href="/feed/{{ num + 1 }}">{{ num +
            1 }}</a></li>
          {% endfor %}
        </ul>
      </nav>
    </div>

  </div>
</div>
{% endblock %}